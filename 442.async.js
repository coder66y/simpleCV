"use strict";(self.webpackChunksimplecv=self.webpackChunksimplecv||[]).push([[442],{78442:function(fe,z,n){n.r(z),n.d(z,{default:function(){return ve}});var ne=n(90228),r=n.n(ne),te=n(87999),j=n.n(te),ae=n(48305),U=n.n(ae),k=n(94837),re=n(82530),b=n(96931),oe=n(76060),le=n(36913),A=n(75271),K=n(17748),ie=n(70002),M=n(62842),se=n(59928),ue=n.n(se),ce=n(45273),Q=function(){return window.devicePixelRatio>1?window.devicePixelRatio:2},X=function(){var f=j()(r()().mark(function u(I){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ue()(I,{backgroundColor:"#ffffff",scale:Q()});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},u)}));return function(I){return f.apply(this,arguments)}}();function Y(f){return V.apply(this,arguments)}function V(){return V=j()(r()().mark(function f(u){var I,e,c,D,w,R,E,S,x,G,v=arguments;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(I=v.length>1&&v[1]!==void 0?v[1]:"\u672A\u547D\u540D",e=v.length>2&&v[2]!==void 0?v[2]:function(W){},c=v.length>3&&v[3]!==void 0?v[3]:!0,u){y.next=6;break}return e(),y.abrupt("return");case 6:return D=u.offsetWidth||700,w=document.createElement("div"),w.style.cssText="position:fixed;left: ".concat(-2*D,"px; top:0;width:").concat(D,"px;box-sizing:content-box;"),document.body.appendChild(w),w.appendChild(u.cloneNode(!0)),R=Q(),E=D,S=E*R,x=E*1.414*R,G=function(){var W=j()(r()().mark(function Z(){var C,N,O,F,J,B,$,T,P;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,X(u);case 2:if(C=o.sent,N=C.width,O=C.height,F=N/S*x,J=S,B=S/N*O,$=O,T=0,P=new ce.ZP("p","px",[S,x],!0),$<F)P.addImage(C,"PNG",0,0,J,B);else for(;$>0;)P.addImage(C,"PNG",0,T,J,B),$-=F,T-=x,$>0&&P.addPage();c&&P.save(I+".pdf"),w.remove(),e(P.output("blob"));case 15:case"end":return o.stop()}},Z)}));return function(){return W.apply(this,arguments)}}(),y.next=18,G();case 18:case"end":return y.stop()}},f)})),V.apply(this,arguments)}var q=n(85364),d=n(52676);function de(f){var u=(0,K.l5)(),I=f.className,e=f.baseInfo,c=f.dispatch,D=(0,A.useState)(!1),w=U()(D,2),R=w[0],E=w[1],S=(0,A.useState)(!1),x=U()(S,2),G=x[0],v=x[1],_=(0,A.useState)(!1),y=U()(_,2),W=y[0],Z=y[1],C=(0,A.useState)(!1),N=U()(C,2),O=N[0],F=N[1],J=function(){var o=j()(r()().mark(function a(){var l,i,t,p,h,m,s,g;return r()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(l=document.getElementById("resumeContent"),!l){L.next=11;break}return L.next=4,X(l);case 4:h=L.sent,m=h.toDataURL("image/png"),s=document.createElement("a"),s.href=m,g="".concat((i=e==null?void 0:e.name)!==null&&i!==void 0?i:"\u59D3\u540D","-").concat((t=e==null?void 0:e.post)!==null&&t!==void 0?t:"\u610F\u5411\u5C97\u4F4D","-").concat((p=e==null?void 0:e.phone)!==null&&p!==void 0?p:"\u8054\u7CFB\u7535\u8BDD"),s.download="".concat(g,".png"),s.click();case 11:case"end":return L.stop()}},a)}));return function(){return o.apply(this,arguments)}}(),B=function(){var o=j()(r()().mark(function a(){var l;return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:v(!0),l=document.getElementById("resumeContent"),Y(l,"",function(){var p=j()(r()().mark(function h(m){var s;return r()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:m&&(s=URL.createObjectURL(m),window.open(s,"_blank")),v(!1);case 2:case"end":return H.stop()}},h)}));return function(h){return p.apply(this,arguments)}}(),!1);case 3:case"end":return t.stop()}},a)}));return function(){return o.apply(this,arguments)}}(),$=function(){var o=j()(r()().mark(function a(){var l,i,t,p,h;return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:E(!0),p="".concat((l=e==null?void 0:e.name)!==null&&l!==void 0?l:"\u59D3\u540D","-").concat((i=e==null?void 0:e.post)!==null&&i!==void 0?i:"\u610F\u5411\u5C97\u4F4D","-").concat((t=e==null?void 0:e.phone)!==null&&t!==void 0?t:"\u8054\u7CFB\u7535\u8BDD"),h=document.getElementById("resumeContent"),Y(h,p,function(){E(!1)});case 4:case"end":return s.stop()}},a)}));return function(){return o.apply(this,arguments)}}(),T=function(){var a="https://github.com/coder66y/simpleCV";window.open(a,"_blank")},P=function(){Z(!0);var a=(0,q.$o)(q.UP);if(!Object.keys(a).length){k.ZP.error("\u65E0\u4FEE\u6539,\u4E0D\u7528\u5BFC\u51FAjson");return}var l=JSON.stringify(a,void 0,4),i=new Blob([l],{type:"text/json"}),t=document.createElement("a");t.download="simpleCV.json",t.href=window.URL.createObjectURL(i),t.dataset.downloadurl=["text/json",t.download,t.href].join(":"),t.click(),t.remove(),Z(!1)},ee=function(){F(!0);var a=document.createElement("input");a.type="file",a.accept=".json",a.onchange=function(l){var i,t=(i=l.target.files)===null||i===void 0?void 0:i[0];if(!t){k.ZP.error("\u8BFB\u53D6\u5931\u8D25");return}var p=new FileReader;p.onload=function(h){var m,s=(m=h.target)===null||m===void 0?void 0:m.result;if(typeof s=="string")try{var g=JSON.parse(s);u==null||u({type:"changeAllTheme",payload:g==null?void 0:g[K.$I]}),c==null||c({type:"".concat(M.lr,"/changeAllModule"),payload:g==null?void 0:g[M.PK]}),k.ZP.success("\u5BFC\u5165\u6210\u529F")}catch(H){k.ZP.error("\u5BFC\u5165\u5931\u8D25")}},p.readAsText(t)},a.click(),a.remove(),F(!1)};return(0,d.jsxs)(ie.Z,{gap:20,className:"edit-cv-title ".concat(I),children:[(0,d.jsx)("div",{"data-width":"auto",className:"logo",children:(0,d.jsx)("strong",{className:"gradient-color",children:"\u7F16\u8F91\u4F60\u81EA\u5DF1\u7684\u7B80\u5386"})}),(0,d.jsx)("div",{"data-width":700}),(0,d.jsxs)(re.Z,{children:[(0,d.jsx)(b.ZP,{type:"primary",onClick:B,loading:G,children:"\u6253\u5370"}),(0,d.jsx)(b.ZP,{type:"primary",ghost:!0,onClick:J,children:"\u4E0B\u8F7D\u56FE\u7247"}),(0,d.jsx)(b.ZP,{type:"primary",ghost:!0,onClick:$,loading:R,children:"\u4E0B\u8F7DPDF"}),(0,d.jsx)(b.ZP,{type:"primary",ghost:!0,onClick:P,loading:W,children:"\u5BFC\u51FAJSON"}),(0,d.jsx)(b.ZP,{type:"primary",ghost:!0,onClick:ee,loading:O,children:"\u5BFC\u5165JSON"}),(0,d.jsx)(oe.Z,{title:"",children:(0,d.jsx)("i",{className:"iconfont github-icon",onClick:T,children:"\uE673"})})]})]})}var ve=(0,le.$j)(function(f){var u=f.editResume;return{baseInfo:u.baseInfo}})(de)}}]);
