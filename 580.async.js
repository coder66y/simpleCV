"use strict";(self.webpackChunksimplecv=self.webpackChunksimplecv||[]).push([[580],{99580:function(ze,fe,g){g.r(fe),g.d(fe,{Notice:function(){return me},NotificationProvider:function(){return Me},useNotification:function(){return be}});var Q=g(87724),I=g(76314),ve=g(60323),t=g(75271),z=g(13800),Ee=g(30967),Y=g(79482),te=g(58673),xe=g(82187),$=g.n(xe),Ze=g(1354),de=g(74468),Re=g(35763),Ae=g(91517),Pe=t.forwardRef(function(e,a){var d=e.prefixCls,s=e.style,l=e.className,h=e.duration,C=h===void 0?4.5:h,P=e.showProgress,p=e.pauseOnHover,L=p===void 0?!0:p,W=e.eventKey,j=e.content,m=e.closable,N=e.closeIcon,T=N===void 0?"x":N,y=e.props,f=e.onClick,b=e.onNoticeClose,O=e.times,Z=e.hovering,E=t.useState(!1),R=(0,I.Z)(E,2),u=R[0],S=R[1],o=t.useState(0),n=(0,I.Z)(o,2),c=n[0],r=n[1],A=t.useState(0),M=(0,I.Z)(A,2),x=M[0],B=M[1],v=Z||u,H=C>0&&P,K=function(){b(W)},J=function(i){(i.key==="Enter"||i.code==="Enter"||i.keyCode===Re.Z.ENTER)&&K()};t.useEffect(function(){if(!v&&C>0){var D=Date.now()-x,i=setTimeout(function(){K()},C*1e3-x);return function(){L&&clearTimeout(i),B(Date.now()-D)}}},[C,v,O]),t.useEffect(function(){if(!v&&H&&(L||x===0)){var D=performance.now(),i,k=function oe(){cancelAnimationFrame(i),i=requestAnimationFrame(function(ae){var U=ae+x-D,w=Math.min(U/(C*1e3),1);r(w*100),w<1&&oe()})};return k(),function(){L&&cancelAnimationFrame(i)}}},[C,x,v,H,O]);var q=t.useMemo(function(){return(0,de.Z)(m)==="object"&&m!==null?m:m?{closeIcon:T}:{}},[m,T]),ne=(0,Ae.Z)(q,!0),V=100-(!c||c<0?0:c>100?100:c),F="".concat(d,"-notice");return t.createElement("div",(0,Y.Z)({},y,{ref:a,className:$()(F,l,(0,te.Z)({},"".concat(F,"-closable"),m)),style:s,onMouseEnter:function(i){var k;S(!0),y==null||(k=y.onMouseEnter)===null||k===void 0||k.call(y,i)},onMouseLeave:function(i){var k;S(!1),y==null||(k=y.onMouseLeave)===null||k===void 0||k.call(y,i)},onClick:f}),t.createElement("div",{className:"".concat(F,"-content")},j),m&&t.createElement("a",(0,Y.Z)({tabIndex:0,className:"".concat(F,"-close"),onKeyDown:J,"aria-label":"Close"},ne,{onClick:function(i){i.preventDefault(),i.stopPropagation(),K()}}),q.closeIcon),H&&t.createElement("progress",{className:"".concat(F,"-progress"),max:"100",value:V},V+"%"))}),me=Pe,ye=t.createContext({}),Le=function(a){var d=a.children,s=a.classNames;return t.createElement(ye.Provider,{value:{classNames:s}},d)},Me=Le,Ce=8,Ne=3,ge=16,He=function(a){var d={offset:Ce,threshold:Ne,gap:ge};if(a&&(0,de.Z)(a)==="object"){var s,l,h;d.offset=(s=a.offset)!==null&&s!==void 0?s:Ce,d.threshold=(l=a.threshold)!==null&&l!==void 0?l:Ne,d.gap=(h=a.gap)!==null&&h!==void 0?h:ge}return[!!a,d]},Ie=He,pe=["className","style","classNames","styles"],Te=function(a){var d=a.configList,s=a.placement,l=a.prefixCls,h=a.className,C=a.style,P=a.motion,p=a.onAllNoticeRemoved,L=a.onNoticeClose,W=a.stack,j=(0,t.useContext)(ye),m=j.classNames,N=(0,t.useRef)({}),T=(0,t.useState)(null),y=(0,I.Z)(T,2),f=y[0],b=y[1],O=(0,t.useState)([]),Z=(0,I.Z)(O,2),E=Z[0],R=Z[1],u=d.map(function(v){return{config:v,key:String(v.key)}}),S=Ie(W),o=(0,I.Z)(S,2),n=o[0],c=o[1],r=c.offset,A=c.threshold,M=c.gap,x=n&&(E.length>0||u.length<=A),B=typeof P=="function"?P(s):P;return(0,t.useEffect)(function(){n&&E.length>1&&R(function(v){return v.filter(function(H){return u.some(function(K){var J=K.key;return H===J})})})},[E,u,n]),(0,t.useEffect)(function(){var v;if(n&&N.current[(v=u[u.length-1])===null||v===void 0?void 0:v.key]){var H;b(N.current[(H=u[u.length-1])===null||H===void 0?void 0:H.key])}},[u,n]),t.createElement(Ze.CSSMotionList,(0,Y.Z)({key:s,className:$()(l,"".concat(l,"-").concat(s),m==null?void 0:m.list,h,(0,te.Z)((0,te.Z)({},"".concat(l,"-stack"),!!n),"".concat(l,"-stack-expanded"),x)),style:C,keys:u,motionAppear:!0},B,{onAllRemoved:function(){p(s)}}),function(v,H){var K=v.config,J=v.className,q=v.style,ne=v.index,V=K,F=V.key,D=V.times,i=String(F),k=K,oe=k.className,ae=k.style,U=k.classNames,w=k.styles,we=(0,ve.Z)(k,pe),re=u.findIndex(function(ee){return ee.key===i}),_={};if(n){var X=u.length-1-(re>-1?re:ne-1),Se=s==="top"||s==="bottom"?"-50%":"0";if(X>0){var ie,se,ce;_.height=x?(ie=N.current[i])===null||ie===void 0?void 0:ie.offsetHeight:f==null?void 0:f.offsetHeight;for(var ke=0,le=0;le<X;le++){var ue;ke+=((ue=N.current[u[u.length-1-le].key])===null||ue===void 0?void 0:ue.offsetHeight)+M}var Ge=(x?ke:X*r)*(s.startsWith("top")?1:-1),Ue=!x&&f!==null&&f!==void 0&&f.offsetWidth&&(se=N.current[i])!==null&&se!==void 0&&se.offsetWidth?((f==null?void 0:f.offsetWidth)-r*2*(X<3?X:3))/((ce=N.current[i])===null||ce===void 0?void 0:ce.offsetWidth):1;_.transform="translate3d(".concat(Se,", ").concat(Ge,"px, 0) scaleX(").concat(Ue,")")}else _.transform="translate3d(".concat(Se,", 0, 0)")}return t.createElement("div",{ref:H,className:$()("".concat(l,"-notice-wrapper"),J,U==null?void 0:U.wrapper),style:(0,z.Z)((0,z.Z)((0,z.Z)({},q),_),w==null?void 0:w.wrapper),onMouseEnter:function(){return R(function(G){return G.includes(i)?G:[].concat((0,Q.Z)(G),[i])})},onMouseLeave:function(){return R(function(G){return G.filter(function(Qe){return Qe!==i})})}},t.createElement(me,(0,Y.Z)({},we,{ref:function(G){re>-1?N.current[i]=G:delete N.current[i]},prefixCls:l,classNames:U,styles:w,className:$()(oe,m==null?void 0:m.notice),style:ae,times:D,key:F,eventKey:F,onNoticeClose:L,hovering:n&&E.length>0})))})},De=Te,Oe=t.forwardRef(function(e,a){var d=e.prefixCls,s=d===void 0?"rc-notification":d,l=e.container,h=e.motion,C=e.maxCount,P=e.className,p=e.style,L=e.onAllRemoved,W=e.stack,j=e.renderNotifications,m=t.useState([]),N=(0,I.Z)(m,2),T=N[0],y=N[1],f=function(n){var c,r=T.find(function(A){return A.key===n});r==null||(c=r.onClose)===null||c===void 0||c.call(r),y(function(A){return A.filter(function(M){return M.key!==n})})};t.useImperativeHandle(a,function(){return{open:function(n){y(function(c){var r=(0,Q.Z)(c),A=r.findIndex(function(B){return B.key===n.key}),M=(0,z.Z)({},n);if(A>=0){var x;M.times=(((x=c[A])===null||x===void 0?void 0:x.times)||0)+1,r[A]=M}else M.times=0,r.push(M);return C>0&&r.length>C&&(r=r.slice(-C)),r})},close:function(n){f(n)},destroy:function(){y([])}}});var b=t.useState({}),O=(0,I.Z)(b,2),Z=O[0],E=O[1];t.useEffect(function(){var o={};T.forEach(function(n){var c=n.placement,r=c===void 0?"topRight":c;r&&(o[r]=o[r]||[],o[r].push(n))}),Object.keys(Z).forEach(function(n){o[n]=o[n]||[]}),E(o)},[T]);var R=function(n){E(function(c){var r=(0,z.Z)({},c),A=r[n]||[];return A.length||delete r[n],r})},u=t.useRef(!1);if(t.useEffect(function(){Object.keys(Z).length>0?u.current=!0:u.current&&(L==null||L(),u.current=!1)},[Z]),!l)return null;var S=Object.keys(Z);return(0,Ee.createPortal)(t.createElement(t.Fragment,null,S.map(function(o){var n=Z[o],c=t.createElement(De,{key:o,configList:n,placement:o,prefixCls:s,className:P==null?void 0:P(o),style:p==null?void 0:p(o),motion:h,onNoticeClose:f,onAllNoticeRemoved:R,stack:W});return j?j(c,{prefixCls:s,key:o}):c})),l)}),Fe=Oe,je=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Ke=function(){return document.body},he=0;function We(){for(var e={},a=arguments.length,d=new Array(a),s=0;s<a;s++)d[s]=arguments[s];return d.forEach(function(l){l&&Object.keys(l).forEach(function(h){var C=l[h];C!==void 0&&(e[h]=C)})}),e}function be(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.getContainer,d=a===void 0?Ke:a,s=e.motion,l=e.prefixCls,h=e.maxCount,C=e.className,P=e.style,p=e.onAllRemoved,L=e.stack,W=e.renderNotifications,j=(0,ve.Z)(e,je),m=t.useState(),N=(0,I.Z)(m,2),T=N[0],y=N[1],f=t.useRef(),b=t.createElement(Fe,{container:T,ref:f,prefixCls:l,motion:s,maxCount:h,className:C,style:P,onAllRemoved:p,stack:L,renderNotifications:W}),O=t.useState([]),Z=(0,I.Z)(O,2),E=Z[0],R=Z[1],u=t.useMemo(function(){return{open:function(o){var n=We(j,o);(n.key===null||n.key===void 0)&&(n.key="rc-notification-".concat(he),he+=1),R(function(c){return[].concat((0,Q.Z)(c),[{type:"open",config:n}])})},close:function(o){R(function(n){return[].concat((0,Q.Z)(n),[{type:"close",key:o}])})},destroy:function(){R(function(o){return[].concat((0,Q.Z)(o),[{type:"destroy"}])})}}},[]);return t.useEffect(function(){y(d())}),t.useEffect(function(){f.current&&E.length&&(E.forEach(function(S){switch(S.type){case"open":f.current.open(S.config);break;case"close":f.current.close(S.key);break;case"destroy":f.current.destroy();break}}),R(function(S){return S.filter(function(o){return!E.includes(o)})}))},[E]),[u,b]}}}]);
